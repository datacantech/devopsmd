# акцент делаем на установку в закрытом контуре
если вы не в стартапе где "почти всё" можно или это не ваш проект, реалии работы таковы, что частенько будете работать с ощущением что вы в закрытом контуре

# кому может быть интересно
 - эффективный управленец у которого часто увольняются девопсы или их нет совсем
 - тим лид, который после очередного собеседования понял, что нужно почитать что-то умное, но наткнулся на этот репо
 - админ, разработчик или архитектор, который вчера впервые услышал слово кубернетес или не понимает зачем нужен докер
 - спец от ИБ, который  прочитал доку Kubernetes Hardening Guidance от NSA, с мыслями кубер - очередная экспансия запада, и лучше юзать compose
 - человек, у кого всё нормально с юмором

# как устроен этот репозиторий
основной контекст в файликах в корне, а описания с командами для различных действий - в папочках;
и чтобы было удобнее стараемся писать тезисно с вопросом и ответом на него, для тех, кто не может опомниться от собесов...

# какую прикладную задачу решаем
устанавливаем постргрис, кафку и редис с помощью хельм в кластер

# начнем

Итак, начнём... а-а-а, у вас чего-то не хватает? например, не хватает имейджей для кластера или не настроены тачки поскольку непонятно как их обновить или нет сетевой связанности? 
добро пожаловать, в закрытом контуре всё возможно,
а, ещё могут закрыться порты между машинами, которые были открыты вчера, а выполнить задачу нужно сегодня

- чтобы установить приложения в кластер нужно поработать с машинами - смотри [инфо про ядро/ось и настройку](Linux.md)
- для подготовки тачки с которой будем ставиться нужно её подготовить - смотри [подготовка тачки в закрытом контуре](prepare.md)
- конечно, всё, что делали руками можно прогнать с ансибл, когда фактура лежит в гите и так будет правильнее - смотри [как работаем с гитом и ансиблом, инфра как код](gitIaC.md)
- чтобы заработал ансибл нужно сделать настройки для сети - смотри [настройки для сети и то, что рядом](NetworkDNS.md)
- в нормальной среде машина обновляется или релиз катится с использованием инструментов - смотри [инфа про инструменты и как их использовать](CICDLCDP.md)
- чтобы поработать с кластером хорошо бы понимать что такой кубер - [особенности работы компонент кластера](k8s.md)
- установить его можно с помощью кубеспрей или самому через кубадм - [установка с кубадм](kubeadm.md) и [установка с кубспрей](kubespray.md)
- перед тем как устанавливать сетевой плагин или какие-то допы нужно разобраться с высокой доступностью - [настраиваем балансировку и сопутствующее](HA.md)
- [использование сетевого плагина](CNICSI.md)
- [сами ещё разберёмся что такое сервис мэш и истио](IstioSM.md)
- после или до любого деплоя в кластер нужно его мониторить и хоть как-то смотреть логи - [прометей, графана, допы](observability.md)